import{l as v,H as E,r as b,v as u,n as r,w as o,E as h,J as l,K as y,L as g,u as k}from"./runtime.BrGAlQLE.js";import{h as N,s as c,g as T}from"./disclose-version.BvK3jvqC.js";function D(e,s,_,f=null,m=!1){var t=null,a=null,n=null,p=m?h:0;v(()=>{if(n===(n=!!s()))return;let i=!1;if(N){const d=e.data===E;n===d&&(b(T),c(!1),i=!0)}n?(t?u(t):t=r(()=>_(e)),a&&o(a,()=>{a=null})):(a?u(a):f&&(a=r(()=>f(e))),t&&o(t,()=>{t=null})),i&&c(!0)},p)}function F(e){l===null&&y(),l.l!==null?A(l).m.push(e):g(()=>{const s=k(e);if(typeof s=="function")return s})}function A(e){var s=e.l;return s.u??(s.u={a:[],b:[],m:[]})}export{D as i,F as o};
